(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-user-amendPhone"],{"03fd":function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{staticClass:"tac"},[a("v-uni-view",[e._v("当前绑定手机号")]),a("v-uni-view",{staticStyle:{"font-size":"42rpx","margin-top":"40rpx"}},[e._v(e._s(e.phone))])],1),a("v-uni-view",{staticClass:"hang"},[a("v-uni-view",{staticClass:"left"},[e._v("+86"),a("v-uni-image",{staticStyle:{width:"14rpx",height:"9rpx","margin-left":"10rpx"},attrs:{src:n("f6fb")}})],1),a("v-uni-view",{staticClass:"line"}),a("v-uni-view",{staticClass:"right"},[a("v-uni-input",{attrs:{maxlength:"11",type:"number",placeholder:"请输入新手机号",value:e.value1},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getPhone.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"hang"},[a("v-uni-view",{staticClass:"left"},[a("v-uni-image",{staticStyle:{"margin-left":"30rpx","margin-right":"60rpx"},attrs:{src:n("fc9d")}})],1),a("v-uni-view",{staticClass:"line"}),a("v-uni-view",{staticClass:"right"},[a("v-uni-input",{attrs:{type:"number",placeholder:"请输入验证码",value:e.value2},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getSum.apply(void 0,arguments)}}}),1==e.showtext?a("v-uni-view",{staticClass:"yanzheng",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.yanzheng.apply(void 0,arguments)}}},[e._v("获取验证码")]):a("v-uni-view",{staticClass:"yanzheng"},[e._v(e._s(e.second)+"s重新发送")])],1)],1),a("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getbound()}}},[e._v("确认更改手机号")]),a("v-uni-view",{staticClass:"text"},[e._v("修改手机号后，绑定的手机号已更换")])],1)},o=[]},6943:function(e,t,n){"use strict";n.r(t);var a=n("ff88"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},a359:function(e,t,n){"use strict";var a=n("eea8"),i=n.n(a);i.a},b23a:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,"uni-page-body[data-v-0ab2f804]{background-color:#f5f5f5}.tac[data-v-0ab2f804]{text-align:center;margin-top:%?150?%;font-size:%?30?%;font-family:PingFang SC;font-weight:500;color:#666}.hang[data-v-0ab2f804]{width:%?640?%;height:%?100?%;background:#fff;border-radius:%?10?%;line-height:%?100?%;text-align:center;display:-webkit-box;display:-webkit-flex;display:flex;margin:%?55?%;padding:0 %?20?% 0 %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative}.hang .left[data-v-0ab2f804]{font-size:%?30?%;font-family:PingFang SC;font-weight:500;color:#fd635e}.hang .left uni-image[data-v-0ab2f804]{width:%?36?%;height:%?36?%;vertical-align:middle;margin-right:%?40?%}.hang uni-input[data-v-0ab2f804]{width:%?400?%;height:%?100?%;padding-top:%?30?%;padding-bottom:%?30?%;background:#fff;text-align:left;padding-left:%?30?%;-webkit-box-sizing:border-box;box-sizing:border-box}.hang .line[data-v-0ab2f804]{width:%?2?%;height:%?60?%;background:#f5f5f5;margin-top:%?20?%}.right .yanzheng[data-v-0ab2f804]{width:%?162?%;height:%?42?%;background:#fff;border:%?1?% solid #ed5736;border-radius:%?21?%;text-align:center;line-height:%?42?%;font-size:%?26?%;font-family:PingFang SC;font-weight:500;color:#fd635e;position:absolute;right:%?10?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.btn[data-v-0ab2f804]{width:%?640?%;height:%?90?%;background:#fd635e;border-radius:%?45?%;line-height:%?90?%;text-align:center;font-size:%?36?%;font-family:PingFang SC;font-weight:500;color:#fff;margin:%?200?% %?55?% %?30?%}.text[data-v-0ab2f804]{font-size:%?26?%;font-family:PingFang SC;font-weight:500;color:#999;text-align:center}body.?%PAGE?%[data-v-0ab2f804]{background-color:#f5f5f5}",""]),e.exports=t},ca01:function(e,t,n){"use strict";n.r(t);var a=n("03fd"),i=n("6943");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("a359");var s,u=n("f0c5"),r=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"0ab2f804",null,!1,a["a"],s);t["default"]=r.exports},eea8:function(e,t,n){var a=n("b23a");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("6e20e8bb",a,!0,{sourceMap:!1,shadowMode:!1})},f6fb:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAICAYAAAArzdW1AAAArUlEQVQoU3XNMQ4BYRAF4PfmL6gkOoVCzVUkGoVY2fx2Ne6gcwOFBpvYLRQalZtwAKVEoxGxuyMi/myE6d6bLzNEYRRgHvgTE8XTYs9iSEN/RGAhgOUqXn92Dqm1tdzkRwBVKC7y0CaT5PyCDqXBYEtK111WbEwU9x1Kh36Hgl3xNQAVapvLZE/1vIqWzUGB+hd6xZNcby1moT8HMP4B3pXqjGp7jbuI/EMlInsCaPsy5ry4x+UAAAAASUVORK5CYII="},fc9d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAADgElEQVRYR+2YTWgdVRTH/+cmJupCiEUJFj8KVTcKbqwIVWxTpAVxIS7UUDU0754ZgulCUVwID1yIRTfBMHPveyVqqbrRlRDFpop0oXUlrvyAUkV5KG3AhZqY3L9MeCOv+ejMe5Ogi8xmhnfP/5zfPXPuPfeNoLdLvPf3hxAeEpE9AG4gOSQi8wB+IXnWGPOhtfZzAOwmhHRjnNkmSTIqIi+JyO1FWpLfknw5juOTRbb5eGmgJEmuN8a8CeBQW7woImdCCKdInhOR30heJyK7jDEHSO4FMNC2nQ0hPB3H8a9FYKWAms3mzcvLy58C2NV2mCwtLb0yMTHx00YBpqenb+zv738RQNy2OdfX17dvfHz8/OWgCoGmpqauGRwc/ArAbSTnjTGj1trZopnm4977QyGEkyIyBOC7hYWFuycnJ3/fSF8I5Jx7F8BjJP8UkXtU9ZuyMLmdc+5Okl+KyFUA3lPVx3sCajQa+0MIc23xqKq+0y1MB9QTAFaK2xgzUqvVTq/n67IZcs6dAjBC8nQURSO9wuS6NE3nRGQ/gDlVPdAVUJIkO40xP2YTCiHsi+P4s6pASZI8YIzJFkcIIdwUx/HPq31umCHv/WGSb5O80Gq1huv1+lJVoHq93j88PNwSkR0i8qS19kRpIOfcqwCeJ/lRFEX53lOVCWmazorIQQDHVPWFboCOA3iK5IkoisYqk7QdpGk6IyKHAbylqke6AboawBUDAwMLY2Njf20W0MzMzJWLi4uDAP5W1T9KA20WQLd+1hS19/5hks8AuCVbDW2HKx2bJEQke+7s4Pnzv/cOuxVZp49OLcnzxpg3rLXZ9rJyXQKUr6xuZ1XVXkQetda+vwbIOZe1hTuyjTAr5qqBivRZcbc3yq9V9a71gC4AuBbAfap6pshh1XHn3IMAPgZwUVV3/OdAaZoeFJHs5LC5QM65vSKym+QP3WR2y4C8902SR0TkuLV2vOyr3DIg51wDQAbSVNXaNtDqDGxnqKgmtjO0naE8A865nnrZ/66G0jR9xBizJ4RwNoqiD4pecT6+ZTt1WYDVdmWALgIYMsbcW6vVvug1UFmd9z77SvIJgHlVzY49l54YnXPfA9gtIg2SqTGm8L9/2eCr7UIIFJGIZNb7slPCresBPQvgtV6DVNA9p6qvrwHKfvDeHyV5FMDOCgHKSlshhOk4jo/lgn8AUf8SQ6z2qjkAAAAASUVORK5CYII="},ff88:function(e,t,n){"use strict";(function(e){n("ac1f"),n("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{value1:"",value2:"",second:60,showtext:!0,phone:""}},methods:{getPhone:function(e){this.value1=e.detail.value},getSum:function(e){this.value2=e.detail.value},getcode:function(){var e=this;this.showtext=!1;var t=setInterval((function(){var t=--e.second;e.second=t<10?"0"+t:t}),1e3);setTimeout((function(){clearInterval(t),e.second=60,e.showtext=!0}),6e4)},yanzheng:function(){var t=this;if(""==t.value1)uni.showToast({icon:"none",title:"请输入手机号"});else if(t.$token()){var n=/^1[3456789]\d{9}$/;if(!n.test(t.value1))return void uni.showToast({title:"请输入正确的手机号",icon:"none"});t.request({url:"ShptUapi/public/index.php/login/verification_code",data:{phone:t.value1,verification_type:4}}).then((function(e){e.data.success?(uni.showToast({title:e.data.msg,icon:"none"}),t.getcode()):uni.showToast({title:e.data.msg,icon:"none"})}),(function(t){e("log",t," at pages/my/user/amendPhone.vue:109")}))}},getbound:function(){var t=this;uni.getStorageSync("token")&&(""==t.value1?uni.showToast({title:"请输入手机号",icon:"none"}):""==t.value2?uni.showToast({title:"请输入验证码",icon:"none"}):(e("log",t.$device()," at pages/my/user/amendPhone.vue:131"),e("log",t.$token()," at pages/my/user/amendPhone.vue:132"),e("log",t.value1," at pages/my/user/amendPhone.vue:133"),e("log",t.value2," at pages/my/user/amendPhone.vue:134"),t.request({url:"ShptUapi/public/index.php/user/user_phone_save",data:{device:t.$device(),phone:t.value1,verification:t.value2}}).then((function(n){e("log",n," at pages/my/user/amendPhone.vue:143"),n.data.success?(uni.setStorage({key:"phone",data:t.value1,success:function(){e("log","success phone",t.value1," at pages/my/user/amendPhone.vue:150")}}),uni.showToast({title:n.data.msg,icon:"none"}),setTimeout((function(){uni.navigateBack({delta:1})}),200)):uni.showToast({title:n.data.msg,icon:"none"})}),(function(t){e("log",t," at pages/my/user/amendPhone.vue:171")}))))}},onLoad:function(e){this.phone=e.phone;var t=/^(\d{3})\d{4}(\d{4})$/;this.phone&&(this.phone=this.phone.replace(t,"$1****$2"))}};t.default=a}).call(this,n("0de9")["log"])}}]);