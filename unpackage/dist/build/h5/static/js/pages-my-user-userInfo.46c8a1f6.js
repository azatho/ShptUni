(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-user-userInfo"],{"06ce":function(e,t,n){"use strict";(function(e){var i=n("dbce");n("c975"),n("ac1f"),n("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("99a8")),r={data:function(){return{cdnUrl:"",baseUrl:"",showModel:!1,userinfo:[],user:[],isWeChat:!1}},watch:{pickerList:function(e,t){this.$emit("update:list",e)}},methods:{init:function(){var t=this;t.$token()&&t.request({url:"ShptUapi/public/index.php/UserConsumers/personal",data:{token:t.$token(),device:t.$device()}}).then((function(n){e("log",n," at pages/my/user/userInfo.vue:134"),n.data.success&&(t.userinfo=n.data.data.userinfo,t.userinfo.wechat_openid.length>0?t.isWeChat=!0:t.isWeChat=!1,t.userinfo.photo.indexOf("https")&&(t.userinfo.photo=t.cdnUrl+t.userinfo.photo),0!=t.userinfo.referrer?t.userinfo.referrer&&(t.userinfo.referrer=t.userinfo.referrer.replace(/^(\d{3})\d{4}(\d+)/,"$1****$2")):t.userinfo.referrer="")}),(function(t){e("log",t," at pages/my/user/userInfo.vue:158")}))},getImg:function(){var t=this;uni.chooseImage({count:1,success:function(n){e("log",n," at pages/my/user/userInfo.vue:171"),a.translate(n.tempFilePaths[0],(function(i){uni.uploadFile({url:t.baseUrl+"ShptSapi/public/supplier.php/Upload/img",filePath:n.tempFilePaths[0],name:"file",method:"GET",formData:{module:"head_portrait"},success:function(n){var i=JSON.parse(n.data),a=i.data;t.request({url:"ShptUapi/public/index.php/UserConsumers/user_edit",data:{device:t.$device(),photo:a}}).then((function(e){e.data.success&&(uni.showToast({title:e.data.msg,icon:"none"}),t.init())}),(function(t){e("log",t," at pages/my/user/userInfo.vue:200")}))}})}))}})},getName:function(e){uni.navigateTo({url:"getName?name="+e})},chPhone:function(e){uni.navigateTo({url:"amendPhone?phone="+e})},editSex:function(){this.showModel=!0},getSex:function(t){var n=this;n.request({url:"ShptUapi/public/index.php/UserConsumers/user_edit",data:{device:n.$device(),sex:t}}).then((function(e){e.data.success&&(uni.showToast({title:e.data.msg,icon:"none"}),n.init(),n.showModel=!1)}),(function(t){e("log",t," at pages/my/user/userInfo.vue:247")}))},cancel:function(){this.showModel=!1},cancelBind:function(){var e=this;uni.showModal({title:"是否取消绑定",success:function(t){t.confirm&&e.request({url:"ShptUapi/public/index.php/UserConsumers/unbundling_wechat",data:{}}).then((function(t){t.data.success&&(e.isWeChat=!1),uni.showToast({title:t.data.msg,icon:"none"})}))}})},toBind:function(){var t=this;uni.getProvider({service:"oauth",success:function(n){e("log",n.provider," at pages/my/user/userInfo.vue:285"),~n.provider.indexOf("weixin")&&uni.login({provider:"weixin",success:function(n){e("log","-------获取openid(unionid)-----"," at pages/my/user/userInfo.vue:291"),e("log",JSON.stringify(n)," at pages/my/user/userInfo.vue:292"),uni.getUserInfo({provider:"weixin",success:function(n){e("log","-------获取微信用户所有-----"," at pages/my/user/userInfo.vue:297"),e("log",JSON.stringify(n.userInfo)," at pages/my/user/userInfo.vue:298");var i=n.userInfo;t.request({url:"ShptUapi/public/index.php/UserConsumers/binding_wechat",data:{wechat_openid:i.openId,wechat_unionID:i.unionId,nickName:i.nickName}}).then((function(n){e("log",n," at pages/my/user/userInfo.vue:313"),n.data.success&&(t.isWeChat=!0),uni.showToast({title:n.data.msg,icon:"none"})}))}})}})}})},quit:function(){var e=this;uni.showModal({title:"提示",content:"您确定退出登录吗？",success:function(t){t.confirm&&e.request({url:"ShptUapi/public/index.php/login/logOut",data:{device:e.$device()}}).then((function(e){uni.clearStorageSync("token"),e.data.success&&(uni.showToast({title:"退出成功",icon:"none"}),uni.reLaunch({url:"../my"}))}))}})}},onShow:function(){this.cdnUrl=this.$cdnUrl,this.baseUrl=this.$baseUrl,this.init()}};t.default=r}).call(this,n("0de9")["log"])},"10d1":function(e,t,n){"use strict";var i,a=n("da84"),r=n("e2cc"),o=n("f183"),s=n("6d61"),u=n("acac"),c=n("861d"),f=n("69f3").enforce,l=n("7f9a"),d=!a.ActiveXObject&&"ActiveXObject"in a,h=Object.isExtensible,v=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},p=e.exports=s("WeakMap",v,u);if(l&&d){i=u.getConstructor(v,"WeakMap",!0),o.REQUIRED=!0;var g=p.prototype,b=g["delete"],w=g.has,m=g.get,y=g.set;r(g,{delete:function(e){if(c(e)&&!h(e)){var t=f(this);return t.frozen||(t.frozen=new i),b.call(this,e)||t.frozen["delete"](e)}return b.call(this,e)},has:function(e){if(c(e)&&!h(e)){var t=f(this);return t.frozen||(t.frozen=new i),w.call(this,e)||t.frozen.has(e)}return w.call(this,e)},get:function(e){if(c(e)&&!h(e)){var t=f(this);return t.frozen||(t.frozen=new i),w.call(this,e)?m.call(this,e):t.frozen.get(e)}return m.call(this,e)},set:function(e,t){if(c(e)&&!h(e)){var n=f(this);n.frozen||(n.frozen=new i),w.call(this,e)?y.call(this,e,t):n.frozen.set(e,t)}else y.call(this,e,t);return this}})}},"55f5":function(e,t,n){var i=n("9c01");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("78164269",i,!0,{sourceMap:!1,shadowMode:!1})},6093:function(e,t,n){"use strict";var i=n("55f5"),a=n.n(i);a.a},"6d61":function(e,t,n){"use strict";var i=n("23e7"),a=n("da84"),r=n("94ca"),o=n("6eeb"),s=n("f183"),u=n("2266"),c=n("19aa"),f=n("861d"),l=n("d039"),d=n("1c7e"),h=n("d44e"),v=n("7156");e.exports=function(e,t,n){var p=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),b=p?"set":"add",w=a[e],m=w&&w.prototype,y=w,x={},C=function(e){var t=m[e];o(m,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!f(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!f(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!f(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(r(e,"function"!=typeof w||!(g||m.forEach&&!l((function(){(new w).entries().next()})))))y=n.getConstructor(t,e,p,b),s.REQUIRED=!0;else if(r(e,!0)){var k=new y,_=k[b](g?{}:-0,1)!=k,U=l((function(){k.has(1)})),E=d((function(e){new w(e)})),S=!g&&l((function(){var e=new w,t=5;while(t--)e[b](t,t);return!e.has(-0)}));E||(y=t((function(t,n){c(t,y,e);var i=v(new w,t,y);return void 0!=n&&u(n,i[b],i,p),i})),y.prototype=m,m.constructor=y),(U||S)&&(C("delete"),C("has"),p&&C("get")),(S||_)&&C(b),g&&m.clear&&delete m.clear}return x[e]=y,i({global:!0,forced:y!=w},x),h(y,e),g||n.setStrong(y,e,p),y}},7037:function(e,t,n){function i(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=i=function(e){return typeof e}:e.exports=i=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(t)}n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),e.exports=i},"8f2a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAbCAQAAADmWnZyAAABWklEQVQoz33SyyuEYRTH8XdMijRliIyFySUkO8VGyh9gqZRsWChZoCwMRVGUZDFEJDuXyUKxEaXcMnO+z6tZaCymNG7FxDDGZUpYe+fJs/10Tuf8zmMY/z3pZMVsO8nUIpskODht9Nk1qHq4IMkO9Rrez5Z2wiTZktofWwofOaSbCJ+yKtUaPnTSxxXvLFOp4fMc1c8NCRb95ZrB/LkM8UBceU23hgMFjPNEjEmzULdzEVPE5FHGjvM1bLplhlfuZdCfq6suZYE4t+KRilS1nVbJHt88KG+K/dhpVAG+CInHQj57oEHt8kGQ5kPnHxpJo45tlZSQar3M+NvQpmrUhvokLB3BLAtJtazyQYSuI4eVKtQSb3Ktes+yrScvY45X7gIDKcubbvHyQlQNm3nWTFxM8kyMCVzW31fCKFGJi+5UMk2UhMz7i3VBr/Msa7qQDcOQFmZVE+k6+wX8M8l32GpG9gAAAABJRU5ErkJggg=="},"99a8":function(e,t,n){"use strict";function i(e,t){var n=new Image;n.src=e,n.onload=function(){var e=this,n=e.height,i=e.width;if(n/i==1){var r=document.createElement("canvas"),o=r.getContext("2d"),s=document.createAttribute("width");s.nodeValue=i;var u=document.createAttribute("height");u.nodeValue=n,r.setAttributeNode(s),r.setAttributeNode(u),o.drawImage(e,0,0,50,50);var c=.1,f=r.toDataURL("image/jpeg",c);r=null;var l=a(f),d=window.URL.createObjectURL(l);t(d)}else uni.showToast({title:"请选择1:1的图片",icon:"none"})}}function a(e){var t=e.split(","),n=t[0].match(/:(.*?);/)[1],i=atob(t[1]),a=i.length,r=new Uint8Array(a);while(a--)r[a]=i.charCodeAt(a);return new Blob([r],{type:n})}n("ace4"),n("d3b7"),n("ac1f"),n("3ca3"),n("466d"),n("1276"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("ddb0"),n("2b3d"),Object.defineProperty(t,"__esModule",{value:!0}),t.translate=i,t.base64ToBlob=a},"9c01":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,"uni-page-body[data-v-52520f8e]{position:relative\n    /* padding-bottom: 100rpx; */}.hang[data-v-52520f8e]{border-top:%?2?% solid #f5f5f5;font-size:%?26?%;font-family:PingFang SC;font-weight:400;color:#333;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;text-align:center;line-height:50px;padding:%?5?% %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box}.hang uni-image[data-v-52520f8e]{width:100%;height:100%;vertical-align:middle}.hang .txt1[data-v-52520f8e]{color:#999}.hang .txt2[data-v-52520f8e]{width:%?120?%;height:%?50?%}.hang .right[data-v-52520f8e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.hang .right .one uni-image[data-v-52520f8e]{width:%?80?%;height:%?80?%;border-radius:50%}.hang .right .two[data-v-52520f8e]{width:%?17?%;height:%?32?%;margin-left:%?20?%}.butt[data-v-52520f8e]{width:%?690?%;height:%?90?%;background:#fd635e;border-radius:%?45?%;font-size:%?30?%;font-family:PingFang SC;font-weight:500;color:#fff;line-height:%?90?%;text-align:center;position:fixed;bottom:%?30?%;left:%?30?%}.model[data-v-52520f8e]{width:100%;height:100%;position:fixed;top:0;left:0;background-color:rgba(0,0,0,.5);z-index:1}.model .model_con[data-v-52520f8e]{width:%?690?%;position:absolute;bottom:%?30?%;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%);background-color:#f5f5f5;border-radius:%?20?%}.model .model_con .sex[data-v-52520f8e]{width:100%;height:%?100?%;line-height:%?100?%;text-align:center;font-size:%?26?%;color:#333}.model .model_con .line[data-v-52520f8e]{width:100%;height:%?10?%;background-color:#eee}",""]),e.exports=t},acac:function(e,t,n){"use strict";var i=n("e2cc"),a=n("f183").getWeakData,r=n("825a"),o=n("861d"),s=n("19aa"),u=n("2266"),c=n("b727"),f=n("5135"),l=n("69f3"),d=l.set,h=l.getterFor,v=c.find,p=c.findIndex,g=0,b=function(e){return e.frozen||(e.frozen=new w)},w=function(){this.entries=[]},m=function(e,t){return v(e.entries,(function(e){return e[0]===t}))};w.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=p(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,i){s(e,l,t),d(e,{type:t,id:g++,frozen:void 0}),void 0!=i&&u(i,e[c],e,n)})),v=h(t),p=function(e,t,n){var i=v(e),o=a(r(t),!0);return!0===o?b(i).set(t,n):o[i.id]=n,e};return i(l.prototype,{delete:function(e){var t=v(this);if(!o(e))return!1;var n=a(e);return!0===n?b(t)["delete"](e):n&&f(n,t.id)&&delete n[t.id]},has:function(e){var t=v(this);if(!o(e))return!1;var n=a(e);return!0===n?b(t).has(e):n&&f(n,t.id)}}),i(l.prototype,n?{get:function(e){var t=v(this);if(o(e)){var n=a(e);return!0===n?b(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return p(this,e,t)}}:{add:function(e){return p(this,e,!0)}}),l}}},bb2f:function(e,t,n){var i=n("d039");e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d740:function(e,t,n){"use strict";n.r(t);var i=n("06ce"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},dbce:function(e,t,n){n("e439"),n("d3b7"),n("3ca3"),n("10d1"),n("ddb0");var i=n("7037");function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n["default"]=e,t&&t.set(e,n),n}e.exports=r},e20b:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"hang",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getImg()}}},[i("v-uni-view",{staticClass:"txt"},[e._v("头像")]),i("v-uni-view",{staticClass:"right"},[i("v-uni-view",{staticClass:"one"},[i("v-uni-image",{attrs:{src:e.userinfo.photo,mode:""}})],1),i("v-uni-view",{staticClass:"two"},[i("v-uni-image",{attrs:{src:n("8f2a")}})],1)],1)],1),i("v-uni-view",{staticClass:"hang",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chPhone(e.userinfo.phone)}}},[i("v-uni-view",{staticClass:"txt"},[e._v("手机号")]),i("v-uni-view",{staticClass:"right"},[e._v(e._s(e.userinfo.phone?e.userinfo.phone:"")),i("v-uni-view",{staticClass:"two"},[i("v-uni-image",{attrs:{src:n("8f2a")}})],1)],1)],1),i("v-uni-view",{staticClass:"hang",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getName(e.userinfo.name)}}},[i("v-uni-view",{staticClass:"txt"},[e._v("昵称")]),i("v-uni-view",{staticClass:"right"},[e._v(e._s(e.userinfo.name?e.userinfo.name:"")),i("v-uni-view",{staticClass:"two"},[i("v-uni-image",{attrs:{src:n("8f2a")}})],1)],1)],1),i("v-uni-view",{staticClass:"hang",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editSex()}}},[i("v-uni-view",{staticClass:"txt"},[e._v("性别")]),i("v-uni-view",{staticClass:"right"},[e._v(e._s(e.userinfo.sex?e.userinfo.sex:"请选择")),i("v-uni-view",{staticClass:"two"},[i("v-uni-image",{attrs:{src:n("8f2a")}})],1)],1)],1),i("v-uni-view",{staticClass:"hang"},[i("v-uni-view",{staticClass:"txt"},[e._v("级别")]),i("v-uni-view",{staticClass:"right"},[e._v(e._s(e.userinfo.rank_name?e.userinfo.rank_name:"普通用户"))])],1),i("v-uni-view",{staticClass:"hang"},[i("v-uni-view",{staticClass:"txt"},[e._v("推荐人")]),i("v-uni-view",{staticClass:"right"},[e._v(e._s(e.userinfo.referrer?e.userinfo.referrer:""))])],1),i("v-uni-view",{staticClass:"hang"},[i("v-uni-view",{staticClass:"txt"},[e._v("注册时间")]),i("v-uni-view",{staticClass:"right"},[e._v(e._s(e.userinfo.regtime?e.formatTime(e.userinfo.regtime):""))])],1),i("v-uni-button",{staticClass:"butt",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.quit()}}},[e._v("退出登录")]),e.showModel?i("v-uni-view",{staticClass:"model",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"model_con"},[i("v-uni-view",{staticClass:"sex",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getSex("男")}}},[e._v("男")]),i("v-uni-view",{staticClass:"sex",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getSex("女")}}},[e._v("女")]),i("v-uni-view",{staticClass:"line"}),i("v-uni-view",{staticClass:"sex",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel()}}},[e._v("取消")])],1)],1):e._e()],1)},r=[]},f183:function(e,t,n){var i=n("d012"),a=n("861d"),r=n("5135"),o=n("9bf2").f,s=n("90e3"),u=n("bb2f"),c=s("meta"),f=0,l=Object.isExtensible||function(){return!0},d=function(e){o(e,c,{value:{objectID:"O"+ ++f,weakData:{}}})},h=function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,c)){if(!l(e))return"F";if(!t)return"E";d(e)}return e[c].objectID},v=function(e,t){if(!r(e,c)){if(!l(e))return!0;if(!t)return!1;d(e)}return e[c].weakData},p=function(e){return u&&g.REQUIRED&&l(e)&&!r(e,c)&&d(e),e},g=e.exports={REQUIRED:!1,fastKey:h,getWeakData:v,onFreeze:p};i[c]=!0},fbfe:function(e,t,n){"use strict";n.r(t);var i=n("e20b"),a=n("d740");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("6093");var o,s=n("f0c5"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"52520f8e",null,!1,i["a"],o);t["default"]=u.exports}}]);